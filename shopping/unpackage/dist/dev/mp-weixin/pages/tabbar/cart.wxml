<view class="app data-v-3c3dbdc8"><mescroll-body vue-id="4b7a7c3e-1" top="{{0}}" up="{{upOption}}" data-ref="mescrollRef" data-event-opts="{{[['^init',[['mescrollInit']]],['^down',[['downCallback']]],['^up',[['loadList']]]]}}" bind:init="__e" bind:down="__e" bind:up="__e" class="data-v-3c3dbdc8 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><uni-swipe-action vue-id="{{('4b7a7c3e-2')+','+('4b7a7c3e-1')}}" class="data-v-3c3dbdc8" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{list}}" wx:for-item="item" wx:for-index="index" wx:key="_id"><uni-swipe-action-item vue-id="{{('4b7a7c3e-3-'+index)+','+('4b7a7c3e-2')}}" options="{{options}}" data-event-opts="{{[['^click',[['remove',['$event',index]]]]]}}" bind:click="__e" class="data-v-3c3dbdc8" bind:__l="__l" vue-slots="{{['default']}}"><view class="item row data-v-3c3dbdc8"><text data-event-opts="{{[['tap',[['checkRow',['$0'],[[['list','_id',item._id]]]]]]]}}" class="{{['mix-icon icon-xuanzhong data-v-3c3dbdc8',(item.checked)?'active':'']}}" catchtap="__e"></text><view data-event-opts="{{[['tap',[['navTo',['/pages/product/detail?id='+item.product_id]]]]]}}" class="{{['image-wrapper lazyload lazypic data-v-3c3dbdc8',(item.loaded)?'loaded':'']}}" bindtap="__e"><image src="{{item.image}}" mode="aspectFill" lazy-load="true" data-event-opts="{{[['load',[['imageOnLoad',['$0'],[[['list','_id',item._id]]]]]]]}}" bindload="__e" class="data-v-3c3dbdc8"></image></view><view class="right column data-v-3c3dbdc8"><text class="title clamp data-v-3c3dbdc8">{{item.title}}</text><text class="sku data-v-3c3dbdc8">{{item.sku.name}}</text><text class="price data-v-3c3dbdc8">{{"¥"+(item.price||'')}}</text><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="number-box data-v-3c3dbdc8" catchtap="__e"><mix-number-box vue-id="{{('4b7a7c3e-4-'+index)+','+('4b7a7c3e-3-'+index)}}" min="{{1}}" max="{{item.stock}}" value="{{item.number}}" isMax="{{item.number>=item.stock}}" isMin="{{item.number===1}}" index="{{index}}" data-event-opts="{{[['^eventChange',[['onNumberChange']]]]}}" bind:eventChange="__e" class="data-v-3c3dbdc8" bind:__l="__l"></mix-number-box></view></view></view></uni-swipe-action-item></block></uni-swipe-action><block wx:if="{{invalidList.length>0}}"><view class="invalid data-v-3c3dbdc8"><view class="invalid-header row data-v-3c3dbdc8" style="height:72rpx;padding:0 24rpx 0 22rpx;font-size:24rpx;color:#333;background-color:#f5f5f5;"><text class="mix-icon icon-tishi data-v-3c3dbdc8"></text><text class="fill data-v-3c3dbdc8">商品调整、库存不足等原因会导致商品失效</text><view data-event-opts="{{[['tap',[['clearInvalid',['$event']]]]]}}" class="btn center data-v-3c3dbdc8" bindtap="__e"><text class="mix-icon icon-lajitong data-v-3c3dbdc8"></text><text class="data-v-3c3dbdc8">清除</text></view></view><block wx:for="{{invalidList}}" wx:for-item="item" wx:for-index="index" wx:key="_id"><view class="item row data-v-3c3dbdc8"><text class="mix-icon icon-xuanzhong data-v-3c3dbdc8"></text><view class="{{['image-wrapper lazyload lazypic data-v-3c3dbdc8',(item.loaded)?'loaded':'']}}"><image src="{{item.image}}" mode="aspectFill" lazy-load="true" data-event-opts="{{[['load',[['imageOnLoad',['$0'],[[['invalidList','_id',item._id]]]]]]]}}" bindload="__e" class="data-v-3c3dbdc8"></image></view><view class="right column data-v-3c3dbdc8"><text class="title clamp data-v-3c3dbdc8">{{item.title}}</text><text class="sku data-v-3c3dbdc8">{{item.sku.name}}</text><view class="row data-v-3c3dbdc8"><text class="price fill data-v-3c3dbdc8">{{"¥"+(item.price||'')}}</text><view class="tag data-v-3c3dbdc8">失效</view></view></view></view></block></view></block><view class="bot-fill-view data-v-3c3dbdc8"></view></mescroll-body><block wx:if="{{loaded&&(list.length>0||invalidList.length>0)}}"><view class="bottom row data-v-3c3dbdc8"><text data-event-opts="{{[['tap',[['checkAll',['$event']]]]]}}" class="{{['mix-icon icon-xuanzhong data-v-3c3dbdc8',(allChecked)?'active':'']}}" bindtap="__e"></text><block wx:if="{{!allChecked}}"><text class="check-tip data-v-3c3dbdc8">全选</text></block><view data-event-opts="{{[['tap',[['showPopup',['mixModal']]]]]}}" class="{{['del-btn center data-v-3c3dbdc8',(allChecked)?'active':'']}}" bindtap="__e"><text class="data-v-3c3dbdc8">清空</text></view><text class="price fill data-v-3c3dbdc8">{{"￥"+$root.f0}}</text><view data-event-opts="{{[['tap',[['createOrder',['$event']]]]]}}" class="btn center data-v-3c3dbdc8" bindtap="__e"><text class="data-v-3c3dbdc8">{{"去结算"+(confirmNumber>0?'('+confirmNumber+')':'')}}</text></view></view></block><block wx:else><block wx:if="{{loaded}}"><mix-empty vue-id="4b7a7c3e-5" type="cart" class="data-v-3c3dbdc8" bind:__l="__l"></mix-empty></block></block><block wx:if="{{isLoading}}"><mix-loading vue-id="4b7a7c3e-6" type="{{loaded?1:2}}" mask="{{true}}" class="data-v-3c3dbdc8" bind:__l="__l"></mix-loading></block><mix-modal vue-id="4b7a7c3e-7" title="删除提示" text="挑了这么久，真的要狠心清空吗" confirmText="清空" data-ref="mixModal" data-event-opts="{{[['^onConfirm',[['clear']]]]}}" bind:onConfirm="__e" class="data-v-3c3dbdc8 vue-ref" bind:__l="__l"></mix-modal></view>